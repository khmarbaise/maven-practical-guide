%%
%% This style is derived from the docbook one.
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{asciidoc}[2008/06/05 AsciiDoc DocBook Style]
%% Just use the original package and pass the options.
\RequirePackageWithOptions{docbook}


\definecolor{listingIniComment}{gray}{0.3}
\definecolor{listingFrameColor}{gray}{0.6}
\definecolor{listingCommandBackgroundColor}{rgb}{0.76,0.84,0.91}
\definecolor{listingIniBackgroundColor}{rgb}{0.91,0.91,0.84}
\definecolor{listingOpsilogBackgroundColor}{rgb}{0.91,0.91,0.84}
%%\definecolor{titlePageColor}{rgb}{0.95,0.95,0.95}
\definecolor{titlePageColor}{rgb}{1.00,1.00,1.00}

\usepackage{lmodern}
%\usepackage{courier}                   %% --- Courier
%\renewcommand{\ttdefault}{cmtl}        %% --- CmBright Typewriter Font

% Sidebar is a boxed minipage that can contain verbatim.
% Changed shadow box to double box.
\renewenvironment{sidebar}[1][0.95\textwidth]{
  \hspace{0mm}\newline%
  \noindent\begin{Sbox}\begin{minipage}{#1}%
  \setlength\parskip{\medskipamount}%
}{
  \end{minipage}\end{Sbox}\doublebox{\TheSbox}%
}

\usepackage{fancyhdr}
\fancyhead[EL]{\itshape\leftmark}
%\lfoot[]{\includegraphics[width=9mm]{uib_footer}}
\lfoot[]{}
%%\rfoot[]{\includegraphics[width=9mm]{uib_footer}}
\rfoot[]{}
\cfoot[]{}
\lhead[]{}
\rhead[]{}
\chead[]{}

\newcommand\tmpTitle{}
\let\tmpTitle\title
\renewcommand*{\title}[1]{
  \tmpTitle{#1}
  \newcommand*{\getTitle}{#1}
}

\newcommand\tmpAuthor{}
\let\tmpAuthor\author
\renewcommand*{\author}[1]{
  \tmpAuthor{#1}
  \newcommand*{\getAuthor}{#1}
}

\newcommand\tmpDate{}
\let\tmpDate\date
\renewcommand*{\date}[1]{
  \tmpDate{#1}
  \newcommand*{\getDate}{#1}
}

\newcommand\edhead{}
\renewcommand{\maketitle}{
  \begin{titlepage}
    \thispagestyle{empty}
    \pagecolor{titlePageColor}
    \begin{minipage}{10cm}
      \vspace{1.4cm}
      \begin{flushright}
      \Huge\textsf{\getTitle}
      \end{flushright}
    \end{minipage}
    \begin{minipage}{30cm}
      \vspace{2.3cm}
      \hspace{-5cm}
      \rule{30cm}{2pt}
    \end{minipage}
    \vspace{0.5cm}
    \begin{minipage}{30cm}
      \hspace{-6cm}
      \rule{30cm}{2pt}
    \end{minipage}
    \vskip 2cm
    \begin{minipage}{17cm}
      \hspace{1.3cm}
      \includegraphics[width=17cm]{images/apache-maven-project.png}
    \end{minipage}
    \vskip 0.6cm
    \begin{minipage}{14cm}
      \hspace{-1.1cm}
      %\scalefont{1.5}
      \textsf{\DBKreleaseinfo}
    \end{minipage}
    \vfill
  \end{titlepage}
  \pagecolor{white}
}



\definecolor{listingWinstScriptBackgroundColor}{rgb}{0.91,0.91,0.84}
\definecolor{listingWinstScriptCommentColor}{rgb}{0.7,0.0,0.0}
\definecolor{listingWinstScriptBasicColor}{rgb}{0.2,0.2,0.2}
\definecolor{listingWinstSectionColor}{rgb}{0.0,0.0,0.0}
\definecolor{listingWinstStringColor}{rgb}{0.9,0.0,0.9}
\definecolor{listingWinstCommandColor}{rgb}{0.0,0.0,0.5}
\definecolor{listingWinstCommand2Color}{rgb}{0.2,0.2,0.6}
\definecolor{listingWinstCommand3Color}{rgb}{0.0,0.8,0.8}
\definecolor{listingWinstVariableColor}{rgb}{0.0,0.6,0.0}

\lstdefinelanguage{winst}{
  backgroundcolor=\color{listingWinstScriptBackgroundColor},
  basicstyle=\color{listingWinstScriptBasicColor}\ttfamily\fontsize{10}{12}\selectfont,
  commentstyle=\color{listingWinstScriptCommentColor},
  keywordstyle=[1]\color{listingWinstSectionColor}\bfseries,
  keywordstyle=[2]\color{listingWinstCommandColor}\bfseries,
  keywordstyle=[3]\color{listingWinstCommand2Color},
  keywordstyle=[4]\color{listingWinstCommand2Color},
  keywordstyle=[5]\color{listingWinstCommand3Color}\bfseries,
  morekeywords=[1]{Sub,sub},
  morekeywords=[2]{if,not,else,endif,DefVar,defvar,DefStringList,DefStringlist,defstringlist,Set,set},
  morekeywords=[3]{KillTask,killTask,killtask,isFatalError,ShowBitmap,HasMinimumSpace,FileExists,Comment,comment,Message,message,LogError,logError,saveVersionToProfile,GetScriptMode,scriptWasExecutedBefore,ChangeDirectory},
  morekeywords=[4]{delete,copy,openkey,openKey,deletekey,deleteKey,deletevar,deleteVar,del,Del},
  morekeywords=[5]{requiredWinstVersion,includelog},
  morecomment=[l][\color{listingWinstScriptCommentColor}\ttfamily]{\;},
  moredelim=*[s][\bfseries\color{listingWinstSectionColor}]{[}{]},
  moredelim=*[s][\bfseries\color{listingWinstVariableColor}]{$}{$},
  string=[d]", stringstyle=\color{listingWinstStringColor},
  columns=fullflexible,
  keepspaces=true,
  showspaces=false,
  showstringspaces=false,
  breaklines=true,
  breakatwhitespace=false,
  sensitive=false,
}


\lstdefinelanguage{ini}{
  backgroundcolor=\color{listingIniBackgroundColor},
  commentstyle=\color{listingIniComment}\fontsize{8}{10}\selectfont,
  basicstyle=\ttfamily\fontsize{8}{10}\selectfont,
  %morekeywords=[2]{global},
  morecomment=[l][\color{listingIniComment}\ttfamily]{\#},
  morecomment=[l][\color{listingIniComment}\ttfamily]{\;},
  %moredelim=[s][\bfseries]{[}{]},
  columns=fullflexible,
  keepspaces=true,
  breaklines=true,
  breakatwhitespace=false,
  prebreak=\textbackslash,
}

\lstdefinelanguage{opsilog}{
  backgroundcolor=\color{listingOpsilogBackgroundColor},
  basicstyle=\ttfamily\fontsize{8}{10}\selectfont,
  columns=fullflexible,
  keepspaces=true,
  breaklines=true,
  breakatwhitespace=false,
  prebreak=\textbackslash,
}

\lstdefinelanguage{opsifiles}[]{opsilog}{
}
\lstdefinelanguage{configfile}[]{opsilog}{
}

\lstdefinelanguage{prompt}[]{bash}{
  backgroundcolor=\color{listingCommandBackgroundColor},
  basicstyle=\ttfamily\fontsize{8}{10}\selectfont,
  %basicstyle=\small\ttfamily,
  morekeywords=[2]{zypper,apt-get,yum,ucr,aptitude},
  columns=fullflexible,
  keepspaces=true,
  showspaces=false,
  showstringspaces=false,
  breaklines=true,
  breakatwhitespace=false,
  prebreak=\textbackslash,
}

\lstdefinelanguage{cmd}[]{command.com}{
  backgroundcolor=\color{listingCommandBackgroundColor},
  basicstyle=\ttfamily\fontsize{8}{10}\selectfont,
  %basicstyle=\small\ttfamily,
  columns=fullflexible,
  keepspaces=true,
  showspaces=false,
  showstringspaces=false,
  breaklines=true,
  breakatwhitespace=true,
  prebreak=\textasciicircum,
}

\lstdefinelanguage{json}{
  basicstyle=\small\ttfamily,
  keywords={true, false, null},
  keywordstyle=\color{blue}\bfseries,
  identifierstyle=\color{black},
  sensitive=true,
  stringstyle=\color{stringgreen}\ttfamily,
  morestring=[b]",
  showstringspaces=false,
  showspaces=false,
}

% For DocBook literallayout elements, see `./dblatex/dblatex-readme.txt`.
\usepackage{alltt}

